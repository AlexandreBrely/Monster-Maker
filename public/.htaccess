# ====================================================================
# .htaccess - Apache rewrite configuration for clean URLs
# ====================================================================
# This file enables clean URLs without showing index.php in the path
# Example: instead of "index.php?url=monsters", you can browse simply "monsters"

# Check that Apache's mod_rewrite module is enabled
# If the module is missing, everything in this block is ignored
<IfModule mod_rewrite.c>
    
    # Turn on the URL rewrite engine
    # Without this line, no rewrite rule will run
    RewriteEngine On
    
    # ----------------------------------------------------------------
    # REWRITE RULES
    # ----------------------------------------------------------------
    
    # CONDITION 1: Requested path is NOT an existing file
    # !-f means "is not a file" (! = NOT, -f = file)
    # Example: requesting style.css that exists makes this condition FALSE
    RewriteCond %{REQUEST_FILENAME} !-f
    
    # CONDITION 2: Requested path is NOT an existing directory
    # !-d means "is not a directory" (! = NOT, -d = directory)
    # Example: requesting css/ that exists makes this condition FALSE
    RewriteCond %{REQUEST_FILENAME} !-d
    
    # RULE: When both conditions are TRUE, rewrite the request
    # ^(.*)$ captures everything after the domain
    # index.php?url=$1 forwards the captured URL to index.php as a parameter
    # [QSA,L] flags:
    #   QSA = Query String Append (keeps existing GET parameters)
    #   L   = Last (stop processing further rules)
    #
    # EXAMPLE:
    # User types: localhost:8000/monsters
    # Apache checks: no file "monsters"? YES
    # Apache checks: no directory "monsters"? YES
    # Apache rewrites to: localhost:8000/index.php?url=monsters
    # The PHP router in index.php then loads the correct controller
    RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]
    
</IfModule>

# ====================================================================
# WHY THIS MATTERS
# ====================================================================
# Without this file: URLs stay noisy and exposed
#   → index.php?url=monsters&id=5
#
# With this file: clean, professional URLs
#   → monsters/5
#
# Note: This file works with Apache. For Nginx, use an equivalent server block.
# ====================================================================
